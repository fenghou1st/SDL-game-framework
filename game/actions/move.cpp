#include "move.h"

#include "../state.h"
#include "../objects/character.h"

using namespace std;
using namespace fenghou;
using namespace fenghou::game;

// Local Field /////////////////////////////////////////////////////////////////////////////////////////////////////////

namespace
{
	// Classes /////////////////////////////////////////////////////////////////////////////////////////////////////////
	// Functions ///////////////////////////////////////////////////////////////////////////////////////////////////////
	// Global Variables ////////////////////////////////////////////////////////////////////////////////////////////////
}

// Global Variables ////////////////////////////////////////////////////////////////////////////////////////////////////

// Functions ///////////////////////////////////////////////////////////////////////////////////////////////////////////

bool Move::apply(Character * character, State * state)
{
	assert(character && state);

	character->vel.x += character->dex * power_ratio * sin(theta) * cos(phi);
	character->vel.y -= character->dex * power_ratio * sin(theta) * sin(phi);
	character->vel.z += character->dex * power_ratio * cos(theta);

	return true;
}
